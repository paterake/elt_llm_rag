# Ingestion Config: The Football Association Handbook

collection_name: "fa_handbook"

# Documents to ingest
file_paths:
  - "~/Documents/__data/resources/thefa/FA_Handbook_2025-26.pdf"

# Metadata to attach to all documents
metadata:
  domain: "Regulations"
  type: "handbook"
  source: "TheFA Handbook"

# Whether to rebuild the collection on each run
rebuild: true

# Chunking override: regulatory text needs larger chunks to preserve full
# rule context.  256 tokens (global default) splits rules mid-sentence.
# 512 tokens keeps complete rule paragraphs together; 64-token overlap
# ensures cross-boundary rules are still retrievable.
chunking:
  strategy: "sentence"
  chunk_size: 512
  chunk_overlap: 64

# Preprocessor: cleans PDF noise and extracts structured definition nodes
# before embedding, improving both BM25 and vector retrieval quality.
preprocessor:
  module: "elt_llm_ingest.preprocessor"
  class: "RegulatoryPDFPreprocessor"
  output_format: "markdown"
  # FA Handbook 2025-26 definition sections (0-based page indices, exclusive end)
  # Section 8 Rules: "TERM means DEFINITION;" format  — pages 89–108
  # Section 23 Referees: "TERM  -  DEFINITION" format — pages 473–477
  def_sections:
    - [88, 108]
    - [472, 477]
  definitions_label: "FA Handbook defined term"
